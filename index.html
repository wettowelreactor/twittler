<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <ul class='stream'></ul>
    <div class='user'></div>
    <script>
      var refreshStream = function() {
        var $stream = $('.stream');
        var fragment = document.createDocumentFragment();
        var index = streams.home.length - 1;

        while (index >= 0) {
          var tweet = streams.home[index];
          var $tweet = $('<li></li>');
          $tweet.text('@' + tweet.user + ' *' + tweet.created_at)
            .append('<br>')
            .append(tweet.message);
          $tweet.appendTo(fragment);
          index -= 1;
        }

        $stream.html(fragment);
      };

      $(document).ready(function(){
        refreshStream();
        var streamInterval = setInterval(refreshStream, 1000*10);
      });

    </script>
  </body>
</html>
